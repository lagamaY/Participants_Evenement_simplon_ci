
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Simplon CI Register</title>
    <!--link to css file-->
    <link rel="stylesheet" href="main.scss">
</head>
<body>
    

    <div class="form_container">

        <div class="overlay">
            <!--Pas de contenu ici-->
        </div>

        <div class="titleDiv">
            <h1 class="title">Bienvenue</h1>
            <span class="subtitle">à Simplon CI</span>
        </div>

        <!--formulaire  action="" method="post"-->
        <form >

            <div class="rows grid">
                <div class="row">
                    <label for="nom">Nom</label>
                    <input type="text" id="nom" name="nom" placeholder="Entrez votre nom svp !" required>
                </div>

                <div class="row">
                    <label for="prenom">Prénom</label>
                    <input type="text" id="prenom" name="prenom" placeholder="Entrez votre prénom svp !" required>
                </div>

                <div class="row">
                    <label for="numero">Numéro</label>
                    <input type="text" id="numero" name="numero" placeholder="Entrez votre numéro de téléphone svp !" required>
                </div>

                <div class="row">
                    <label for="mail">Mail</label>
                    <input type="text" id="mail" name="mail" placeholder="Entrez votre adresse mail svp !" required>
                </div>
                <!--Le bouton envoyer-->
                <div class="row">
                    <input type="submit" id="submitBtn" name="envoyer" value="Envoyer" required>

                    <span class="participant">Vous êtes déjà enregistré? <a href="listofparticipants.php">Vérifier</a></span>
                </div>
                
            </div>


        </form>

        <!--AJAX-->
        <p id="send"></p>

    </div>

    
    
</body>
 <!--AJAX pour envoyer le formulaire sans quitter la page du formulaire-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<script type="text/javascript">
    document.querySelector("#submitBtn").addEventListener("click",function(){
        var UserData = "nom="+$("input[name=nom]").val() + "&prenom="+$("input[name=prenom]").val()+ "&numero="+$("input[name=numero]").val()+ "&mail="+$("input[name=mail]").val();
        $.ajax({
            type: "post",
            data:UserData,
            url:"sendform.php",
            success:function(response){
                console.log("Data Submitted");
                console.log(response);
                $("#send").html(" Enregistrement effectué avec succès !")
            },
            error:function(e){
                $("#send").html("Some error occured");
            }
        })
    })
</script>
</html>